<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Surimi Inventory Management System</title>
    <link rel="stylesheet" href="../surimi.css" />
  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="status-bar">
          <h1>Surimi Inventory Management System</h1>
          <div id="currentTime"></div>
          <div id="statusIndicator" class="status-indicator">
            System Checking...
          </div>
        </div>
      </div>

      <div class="tabs">
        <button class="tab active" onclick="showTab('daily')">
          Daily Operations
        </button>
        <button class="tab" onclick="showTab('inventory')">
          Inventory View
        </button>
        <button class="tab" onclick="showTab('history')">
          Historical Records
        </button>
      </div>

      <div class="content">
        <!-- Daily Operations -->
        <div id="daily" class="section active">
          <h2 style="margin-bottom: 25px">Daily Inventory Operations</h2>

          <!-- Step 1: Transfer from Main Warehouse -->
          <div class="form-group" id="mainTransferSection">
            <h3>
              <span class="step-number">1</span>
              Transfer from Main Warehouse to Defrost Room
              <button
                class="close-btn"
                onclick="toggleSection('mainTransferSection')"
                title="Hide this section"
              >
                √ó
              </button>
            </h3>
            <div id="transferFromMain">
              <div
                class="form-row transfer-row"
                style="background: #e3f2fd; font-weight: bold"
              >
                <div>Product Name</div>
                <div>Main Stock</div>
                <div>Batch Number</div>
                <div>Transfer Qty</div>
                <div>Current Defrost</div>
                <div>Action</div>
              </div>
            </div>
            <button
              class="btn btn-primary"
              onclick="transferFromMainWarehouse()"
            >
              Confirm Transfer from Main
            </button>
          </div>

          <!-- Step 2: Supplement from Public Warehouse -->
          <div class="form-group" id="supplementSection">
            <h3>
              <span class="step-number">2</span>
              Supplement from Public Warehouse (if needed)
              <button
                class="close-btn"
                onclick="toggleSection('supplementSection')"
                title="Hide this section"
              >
                √ó
              </button>
            </h3>
            <div id="supplementFromPublic">
              <div
                class="form-row supplement-row"
                style="background: #e8f5e8; font-weight: bold"
              >
                <div>Product Name</div>
                <div>Public Stock</div>
                <div>Batch Number</div>
                <div>Defrost Stock</div>
              </div>
            </div>
            <button class="btn btn-success" onclick="supplementStock()">
              Confirm Supplement
            </button>
          </div>

          <!-- Step 3: Order Dispatch -->
          <div class="form-group" id="orderSection">
            <h3>
              <span class="step-number">3</span>
              Order Dispatch to Production
              <button
                class="close-btn"
                onclick="toggleSection('orderSection')"
                title="Hide this section"
              >
                √ó
              </button>
            </h3>

            <div class="order-section">
              <h4>Order 1</h4>
              <div id="orderDispatch1">
                <div
                  class="form-row order-row"
                  style="background: #f3e5f5; font-weight: bold"
                >
                  <div>Product Name</div>
                  <div>Current Stock</div>
                  <div>Order 1 Qty</div>
                  <div>Order 2 Qty</div>
                  <div>Order 3 Qty</div>
                  <div>After Dispatch</div>
                </div>
              </div>
            </div>

            <button class="btn btn-primary" onclick="dispatchOrders()">
              Confirm All Orders Dispatch
            </button>
          </div>

          <!-- Step 4: Returns from Production -->
          <div class="form-group" id="returnSection">
            <h3>
              <span class="step-number">4</span>
              Returns from Production
              <button
                class="close-btn"
                onclick="toggleSection('returnSection')"
                title="Hide this section"
              >
                √ó
              </button>
            </h3>
            <div id="returnFromProduction">
              <div
                class="form-row return-row"
                style="background: #fff3e0; font-weight: bold"
              >
                <div>Product Name</div>
                <div>Current Stock</div>
                <div>Return Qty</div>
                <div>Updated Stock</div>
                <div>Return Batch Number</div>
              </div>
            </div>
            <button class="btn btn-warning" onclick="processReturns()">
              Confirm Returns
            </button>
          </div>

          <div class="form-group" style="text-align: center; margin-top: 40px">
            <button
              class="btn btn-success"
              onclick="finalCheck()"
              style="font-size: 18px; padding: 15px 30px"
            >
              üîç Final Check & Return to Main Warehouse
            </button>
          </div>
        </div>

        <!-- Inventory View -->
        <div id="inventory" class="section">
          <h2 style="margin-bottom: 25px">Real-time Inventory Status</h2>

          <div class="inventory-summary">
            <div class="summary-card">
              <h3>üè¢ Main Warehouse Stock</h3>
              <div id="mainWarehouseInventory"></div>
            </div>

            <div class="summary-card">
              <h3>üè≠ Defrost Room Stock</h3>
              <div id="defrostRoomInventory"></div>
            </div>

            <div class="summary-card">
              <h3>üöõ Public Warehouse Stock</h3>
              <div id="publicWarehouseInventory"></div>
            </div>
          </div>
        </div>

        <!-- Historical Records -->
        <div id="history" class="section">
          <h2 style="margin-bottom: 25px">Historical Records Query</h2>

          <div class="history-controls">
            <label>Select Date:</label>
            <input
              type="date"
              id="historyDate"
              onchange="loadHistoryRecord()"
            />
            <button class="btn btn-primary" onclick="loadHistoryRecord()">
              Query Records
            </button>
          </div>

          <div id="historyResults">
            <p style="text-align: center; color: #666; padding: 40px">
              Please select a date to view historical records
            </p>
          </div>
        </div>
      </div>
    </div>
    <script src="../surimi.js"></script>
  </body>
</html>
